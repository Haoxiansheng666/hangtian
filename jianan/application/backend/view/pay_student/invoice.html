{include file="public/header" /}<script src="__STATICBACKEND__/jscolor/jscolor.js"></script><style type="text/css">  html{    background-color:#fff;  }</style><form class="layui-form"  style="margin-top:30px;width:90%;" id="addform" onkeydown="if(event.keyCode==13){return false;}">    {if !empty($data.name)}        <div class="layui-form-item">            <label class="layui-form-label">客户姓名</label>            <div class="layui-input-block">                <input type="text" class="layui-input" value="{$data.name|default=''}" {if !empty($data.name)} readonly {/if}>            </div>        </div>    {/if}    {if !empty($data.mobile)}        <div class="layui-form-item">            <label class="layui-form-label">手机号</label>            <div class="layui-input-block">                <input type="text" class="layui-input" value="{$data.mobile|default=''}" {if !empty($data.mobile)} readonly {/if}>            </div>        </div>    {/if}    {if !empty($data.customer_id)}        <input type="hidden" name="pay_student_id" value="{$data.customer_id}">    {/if}    {if !empty($data.id_card)}        <div class="layui-form-item">            <label class="layui-form-label">身份证号</label>            <div class="layui-input-block">                <input type="text" class="layui-input" value="{$data.id_card|default=''}" {if !empty($data.id_card)} readonly {/if}>            </div>        </div>    {/if}    {if isset($profession)}        <div class="layui-form-item">            <label class="layui-form-label">工种</label>            <div class="layui-input-block">                <input type="text" class="layui-input" readonly value="{$profession}">            </div>        </div>    {/if}    <div class="layui-form-item">        <label class="layui-form-label">此次开票金额</label>        <div class="layui-input-block">            <input type="text" class="layui-input" name="price" value="">        </div>    </div>    <div class="layui-form-item">        <label class="layui-form-label">单位名称</label>        <div class="layui-input-block">            <input type="text" class="layui-input" name="company_name" value="">        </div>    </div>    <div class="layui-form-item">        <label class="layui-form-label">纳税人识别码</label>        <div class="layui-input-block">            <input type="text" class="layui-input" name="credit_code" value="">        </div>    </div>    <div class="layui-form-item">        <label class="layui-form-label">注册地址</label>        <div class="layui-input-block">            <input type="text" class="layui-input" name="address" value="">        </div>    </div>    <div class="layui-form-item">        <label class="layui-form-label">注册电话</label>        <div class="layui-input-block">            <input type="text" class="layui-input" name="mobile" value="">        </div>    </div>    <div class="layui-form-item">        <label class="layui-form-label">开户银行</label>        <div class="layui-input-block">            <input type="text" class="layui-input" name="bank_name" value="">        </div>    </div>    <div class="layui-form-item">        <label class="layui-form-label">银行账号</label>        <div class="layui-input-block">            <input type="text" class="layui-input" name="bank_account" value="">        </div>    </div>    <div class="layui-form-item">        <label class="layui-form-label">备注</label>        <div class="layui-input-block">            <textarea class="layui-textarea" name="mark" id="remark"></textarea>        </div>    </div>    <div class="layui-form-item" style="text-align:center;">      <div class="layui-input-block">        <input type="hidden" name='type' value="1" id='type'>        <input type="hidden" name='id' value="{$data['id']?$data['id']:''}" id='hidden-id'><!--        <button type="reset" class="layui-btn layui-btn-primary">重置</button>-->        <button class="layui-btn" lay-submit="" lay-filter="addaction">提交审核</button>      </div>    </div></form><script>layui.config({    base: '__STATICBACKEND__/layuiadmin/' //静态资源所在路径  }).extend({    index: 'lib/index' //主入口模块  }).use(['index', 'form', 'laydate', 'upload'], function(){    var $ = layui.$    ,admin = layui.admin    ,element = layui.element    ,layer = layui.layer    ,laydate = layui.laydate    ,upload = layui.upload    ,form = layui.form;    //执行一个laydate实例    laydate.render({        elem: '#action_train_time' //指定元素    });    laydate.render({        elem: '#recheck_time' //指定元素    });    //执行实例    var uploadInst = upload.render({        elem: '#pay_proof' //绑定元素        , field: 'img'        ,url: "{:url('upload/layuiImgUpload')}" //上传接口        , before: function (obj) {            //预读本地文件示例，不支持ie8            obj.preview(function (index, file, result) {                $('#preview').attr('src', result); //图片链接（base64）                console.log(result);            });        }        ,done: function(res){            console.log(res);            //如果上传失败            if (res.code > 0) {                return layer.msg('上传失败');            } else {                var path = res.data;                $('input[name="pay_proof"]').val(path);            }        }        ,error: function(){            //请求异常回调            $('#preview').attr('src', '')            layer.alert('主图大小不能超过300k，请重新选择!');        }    });    /* 自定义验证规则 */    form.verify({         });    /* 监听提交 */    form.on('submit(addaction)', function(data){      var url = "{:url('PayStudent/invoice')}";      var data =$("#addform").serializeArray();      jqueryAjax('POST',url,data,successLayui);      return false;    });  });</script><script>    $(document).ready( function() {                  $('.demo').each( function() {                //                // Dear reader, it's actually very easy to initialize MiniColors. For example:                //                //  $(selector).minicolors();                //                // The way I've done it below is just for the demo, so don't get confused                 // by it. Also, data- attributes aren't supported at this time. Again,                 // they're only used for the purposes of this demo.                //        $(this).minicolors({          control: $(this).attr('data-control') || 'hue',          defaultValue: $(this).attr('data-defaultValue') || '',          inline: $(this).attr('data-inline') === 'true',          letterCase: $(this).attr('data-letterCase') || 'lowercase',          opacity: $(this).attr('data-opacity'),          position: $(this).attr('data-position') || 'bottom left',          change: function(hex, opacity) {            var log;            try {              log = hex ? hex : 'transparent';              if( opacity ) log += ', ' + opacity;              console.log(log);            } catch(e) {}          },          theme: 'default'        });                            });          });  </script>